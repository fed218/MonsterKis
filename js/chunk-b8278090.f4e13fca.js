(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8278090"],{"114b":function(t,e,a){},"7cb4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!1===t.order.is_paid?a("section",{staticClass:"container my-4 text-center"},[a("h1",{staticClass:"text-secondary"},[t._v("購物車")]),t._m(0)]):t._e(),!0===t.order.is_paid?a("section",{staticClass:"container my-4 text-center"},[a("h1",{staticClass:"text-secondary"},[t._v("MK影城 感謝您的關顧")]),t._m(1)]):t._e(),a("section",{staticClass:"row justify-content-center my-5 mx-0"},[a("form",{staticClass:"col-md-6 col-11",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(2),a("tbody",{staticClass:"checkout-table"},t._l(t.order.products,function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v("$"+t._s(e.final_total))])])}),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right text-primary pt-4 h4",attrs:{colspan:"3"}},[t._v("\n              總計 $"+t._s(t.order.total)+"\n            ")])])])]),a("table",{staticClass:"table mt-5"},[t._m(3),a("tbody",{staticClass:"checkout-table"},[a("tr",[a("th",[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger btn-shadow"},[t._v("確認付款")])]):t._e(),t.order.is_paid?a("div",{staticClass:"text-right"},[a("p",{staticClass:"mt-4"},[a("router-link",{attrs:{to:"/"}},[t._v("\n            繼續購物  \n            "),a("i",{staticClass:"fas fa-angle-right"})])],1)]):t._e()])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-row mt-4"},[a("div",{staticClass:"col-md col-12"},[a("div",{staticClass:"alert alert-light text-center alert-rounded",attrs:{role:"alert"}},[t._v("1. 輸入訂單資料")])]),a("div",{staticClass:"col-md col-12"},[a("div",{staticClass:"alert alert-primary text-center text-primary alert-rounded",attrs:{role:"alert"}},[t._v("2. 金流付款")])]),a("div",{staticClass:"col-md col-12"},[a("div",{staticClass:"alert alert-light text-center alert-rounded",attrs:{role:"alert"}},[t._v("3. 完成")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-row mt-4 justify-content-center"},[a("div",{staticClass:"col-lg-6 col-11"},[a("div",{staticClass:"alert alert-primary text-center alert-rounded",attrs:{role:"alert"}},[t._v("3. 完成")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-primary text-light"},[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",{staticClass:"text-right"},[t._v("金額")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-primary text-light"},[a("th",{attrs:{colspan:"2"}},[t._v("訂購人資料")])])}],i={data:function(){return{productId:"",order:{user:{}}}},methods:{getOrder:function(){this.$store.dispatch("updateLoading",!0);var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("fed218","/order/").concat(t.orderId);this.$http.get(e).then(function(e){t.$store.dispatch("updateLoading",!1),console.log(e.data);var a=e.data.order;a.total=Math.round(a.total),t.order=a})},payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("fed218","/pay/").concat(t.orderId);this.$http.post(e).then(function(e){console.log(e.data),t.getOrder()})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},c=i,o=(a("ae85"),a("2877")),l=Object(o["a"])(c,s,r,!1,null,null,null);e["default"]=l.exports},ae85:function(t,e,a){"use strict";var s=a("114b"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-b8278090.f4e13fca.js.map